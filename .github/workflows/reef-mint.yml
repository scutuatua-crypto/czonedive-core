name: Reef NFT Mint

on:
  push:
    branches: [ main ]

jobs:
  mint:
    runs-on: ubuntu-latest
    steps:
      - name: Mint NFT via Zora API
        id: mint
        run: |
          response=$(curl -s -X POST https://your-engine-url/contract/7777777/YOUR_CONTRACT_ADDRESS/erc721/mint-to \
            -H "Content-Type: application/json" \
            -d '{
              "receiver": "0xYourWalletAddress",
              "metadata": {
                "name": "Reef NFT #042",
                "description": "Minted from reef governance",
                "image": "ipfs://QmYourIPFSHash/nft.png"
              }
            }')
          echo "minted=âœ… Minted Reef NFT #042" >> $GITHUB_OUTPUT

      - name: Update badge
        uses: RubbaBoy/BYOB@v1.3.0
        with:
          NAME: reef-mint
          LABEL: 'Mint Status'
          STATUS: ${{ steps.mint.outputs.minted }}
          COLOR: 00EEFF
          GITHUB_TOKEN: ${{ secrets.GITHUB_TOKEN }}
